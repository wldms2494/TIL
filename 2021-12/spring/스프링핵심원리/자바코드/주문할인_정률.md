RateDiscountPolicy클래스 생성한다.
인터페이스 discountPolicy를 구현한다   
```java
import hello3.core3.member.Grade;
import hello3.core3.member.Member;

public class RateDsicountPolicy implements DiscountPolicy{
  //ctrl shift t -> testcode
  private int discountPercent = 10;

  @Override
  public int discount(Member member, int price) {
	if(member.getGrade() == Grade.VIP){
	  return price * discountPercent/100;
	}else{
	  return 0;
	}
  }
}
```
이제 10%할인하는것이 잘 동작하는지에 관한 테스트 코드를 작성해본다  
실무에서 특히 이렇게 돈과 관련된 테스트는 정말 많이 아주 꼼꼼히 한다고 한다  
ctrl shif t를 누르면 테스트 코드를 생성하는 단축키이다. 

```java
package hello3.core3.discount;

import static org.assertj.core.api.Assertions.assertThat;

import hello3.core3.member.Grade;
import hello3.core3.member.Member;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

class RateDsicountPolicyTest {
  RateDsicountPolicy discountPolicy = new RateDsicountPolicy();

  @Test
  @DisplayName("VIP는 10%할인이 적용되어야 한다")
  void vip_o (){
	//given
	Member member = new Member(1L, "memberA", Grade.VIP);
	//when
	int discount = discountPolicy.discount(member, 10000);
	//then
	//Assertion.asserThat 에서 alt enter누르면  static메소드로 바꿔줌
	assertThat(discount).isEqualTo(1000);
  }
  //테스트 코드는 실패 케이스를 만드는것이 중요하다
  @Test
  @DisplayName("VIP가 아니면 할인이 적용되지 않아야 한다")
  void vip_x(){
	//given
	Member member = new Member(1L, "memberBasic", Grade.BASIC);
	//when
	int discount = discountPolicy.discount(member, 10000);
	//then
	assertThat(discount).isEqualTo(0);
  }
}
```
테스트 코드를 작성할때는
given, when, then을 쓰고 코드를 작성 해보자.
given어떤것이 주어질까? 
일단 할인률을 테스트 하는거면 주문이 들어가야 하는 것이고, 주문이 들어갈려면 멤버가 필요하다
쉽게 생각하면 내가 필요한것은 discountpolicy.discount메소드이다
여기서 파라미터로 들어가는건 몬가? 멤버랑 price이다
price는 int로 내가 적어주면 끝  
멤버는 내가 객체를 하나 만들어줘야겠징?
멤버를 생성해준다.  
`	Member member = new Member(1L, "memberA", Grade.VIP);`
그럼 when 조건은 무엇일까?
조건은 정률 할인일때를 줘야한다.
`	int discount = discountPolicy.discount(member, 10000);`
여기서 discountPolicy는  
`  RateDsicountPolicy discountPolicy = new RateDsicountPolicy();` 정률 할인 정책을 구현한것이다.  
그러면  결과적으로 then  
`assertThat(discount).isEqualTo(1000)`   
영한님은 `Assertion.assertThat(discount).isEqualTo(1000)`이렇게 쓰셨는데
alt Enter를 누르면 static메소드로 변경할 수 있다는것을 알려주셨다. 큰그림이셨군..  
그러면 10%된 값은 1000이여야 하니까 이 값이랑 discount값이랑 같으면 성공이겠지?  


그리고

테스트 코드를 작성하면서 중요한것은 실패케이스도 작성하는 것이다.  
만약 discount값이 1000이아니라 다른 값이 들어가면 어떻게 될까?
```java
@Test
@DisplayName("Vip가 아니면 할인이 적용되지 않아야 한다") 
RateDiscountPolicy discountPolicy = new RateDiscountPolicy();
void(){
  //given
    Member member = new Member(1L, "member_basic", Grade.BASIC)
    //when
    int discount = discountPolicy.discount(member, 10000);
    //then
    assertThat(discount).iㅂsEqualTo(0);
    }
```
assert에다가 10%의 값이 아닌 다른 값을 집어 넣는 것이다.
그러면 실패라고 시뻘겋게 뜬다.  